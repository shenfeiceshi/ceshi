<!--任务编辑页面-->
<view class="page-container">
  <!-- 任务表单 -->
  <view class="form-container">
    <!-- 任务标题 -->
    <view class="form-item">
      <view class="form-label">任务名称</view>
      <input class="form-input" 
             placeholder="请输入任务名称" 
             value="{{taskForm.title}}"
             bindinput="onTitleInput" />
    </view>

    <!-- 任务分类 -->
    <view class="form-item">
      <view class="form-label">任务分类</view>
      <view class="category-grid">
        <view class="category-item {{taskForm.category === item.value ? 'selected' : ''}}"
              wx:for="{{categories}}"
              wx:key="value"
              bindtap="selectCategory"
              data-category="{{item.value}}">
          <view class="category-icon">{{item.icon}}</view>
          <view class="category-name">{{item.name}}</view>
        </view>
      </view>
    </view>

    <!-- 积分设置 -->
    <view class="form-item">
      <view class="form-label">完成奖励</view>
      <view class="points-selector">
        <view class="points-item {{taskForm.points === item ? 'selected' : ''}}"
              wx:for="{{pointsOptions}}"
              wx:key="*this"
              bindtap="selectPoints"
              data-points="{{item}}">
          {{item}}积分
        </view>
      </view>
    </view>

    <!-- 提醒时间 -->
    <view class="form-item">
      <view class="form-label">提醒时间</view>
      <picker mode="time" 
              value="{{taskForm.time}}" 
              bindchange="onTimeChange">
        <view class="time-picker">
          <view class="time-icon">⏰</view>
          <text class="time-text">{{taskForm.time || '选择时间'}}</text>
          <image class="arrow-icon" src="/images/icons/arrow-right.png"></image>
        </view>
      </picker>
    </view>

    <!-- 任务描述 -->
    <view class="form-item">
      <view class="form-label">任务描述（可选）</view>
      <textarea class="form-textarea" 
                placeholder="描述一下这个任务的具体内容..."
                value="{{taskForm.description}}"
                bindinput="onDescriptionInput"
                maxlength="200"></textarea>
    </view>

    <!-- 重复设置 -->
    <view class="form-item">
      <view class="form-label">重复频率</view>
      <view class="repeat-options">
        <view class="repeat-item {{taskForm.repeat === item.value ? 'selected' : ''}}"
              wx:for="{{repeatOptions}}"
              wx:key="value"
              bindtap="selectRepeat"
              data-repeat="{{item.value}}">
          {{item.name}}
        </view>
      </view>
    </view>
  </view>

  <!-- 操作按钮 -->
  <view class="action-buttons">
    <view class="btn-secondary" bindtap="onCancel">取消</view>
    <view class="btn-primary" bindtap="onSave">{{isEdit ? '保存' : '创建'}}</view>
  </view>
</view>